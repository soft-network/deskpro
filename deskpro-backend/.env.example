# =============================================================================
# deskpro-backend — Environment Variables
# Copy this file to .env.dev and fill in your values.
# Never commit .env.dev — it is gitignored.
# =============================================================================

DJANGO_ENV=dev

# Django security keys (generate each one with):
#   python -c "import secrets; print(secrets.token_urlsafe(50))"
DJANGO_SECRET_KEY=REPLACE_ME
JWT_SECRET_KEY=REPLACE_ME

# ---------------------------------------------------------------------------
# Control Plane Database (Neon — your main project DB)
# ---------------------------------------------------------------------------
CONTROL_DB_NAME=neondb
CONTROL_DB_USER=neondb_owner
CONTROL_DB_PASSWORD=REPLACE_ME
CONTROL_DB_HOST=REPLACE_ME.neon.tech
CONTROL_DB_PORT=5432

# ---------------------------------------------------------------------------
# Neon API (for provisioning per-tenant databases in prod)
# Get from: https://console.neon.tech → Account → API Keys
# ---------------------------------------------------------------------------
NEON_API_KEY=REPLACE_ME
NEON_PROJECT_ID=REPLACE_ME
NEON_ROLE_NAME=neondb_owner

# ---------------------------------------------------------------------------
# Tenant Provisioning Mode
# true  = dev: use one fixed DB (softflow_tenant_dev), no Neon API calls
# false = prod: create a new Neon database per tenant signup
# ---------------------------------------------------------------------------
TENANT_DEV_MODE=true
DEV_TENANT_DB_NAME=softflow_tenant_dev
DEV_TENANT_DB_USER=neondb_owner
DEV_TENANT_DB_PASSWORD=REPLACE_ME
DEV_TENANT_DB_HOST=REPLACE_ME.neon.tech
DEV_TENANT_DB_PORT=5432

# ---------------------------------------------------------------------------
# Field-level Encryption (Fernet — protects Neon credentials at rest)
# Generate with:
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# ---------------------------------------------------------------------------
FIELD_ENCRYPTION_KEY=REPLACE_ME

# ---------------------------------------------------------------------------
# Admin API Key (protects DELETE /api/tenants/{slug})
# ---------------------------------------------------------------------------
ADMIN_API_KEY=REPLACE_ME

# ---------------------------------------------------------------------------
# SaaS Admin Superuser (created by: uv run manage.py create_saas_admin)
# ---------------------------------------------------------------------------
SAAS_ADMIN_EMAIL=admin@example.com
SAAS_ADMIN_PASSWORD=REPLACE_ME
SAAS_ADMIN_FULL_NAME=SaaS Admin

# ---------------------------------------------------------------------------
# CORS & Hosts
# ---------------------------------------------------------------------------
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ALLOWED_ORIGINS=http://localhost:3000
